{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Vehicles List" %}{% endblock %}

{% load static %}

{% block content %}
{% if user.is_authenticated %}
<div class='row'>
    <div class='soft-ui-banner col-md-3 h-100'>
        <h5>Mission Status</h5>
        <ul class="list-group list-group-flush">
            {% for v in vehicles_o_mission %}
            <li class="list-group-item list-group-item-action">
                <a href="" class="text-decoration-none text-reset">
                    <div class="d-flex justify-content-between">
                        <div class="">{{ v.vehicle_id }}</div>
                        {%if v.mission_status == "On Mission" %}
                        <div class="text-warning"><strong>{{ v.mission_status }} &lowast; </strong></div>
                        {% elif v.mission_status == 'Stand-by' %}
                        <div class="text-success"><strong>{{ v.mission_status }} &bull; </strong></div>
                        {% else %}
                        <div class=""><span>{{ v.mission_status }}</span></div>
                        {% endif %}
                    </div>
                </a>
            </li>
            {% empty %}
            <li class="list-group-item">No Data</li>
            {% endfor %}
        </ul>
    </div>
    <div class='soft-ui-banner col-md-8 table-responsive'>
        <h3>Vehicles</h3>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>{% trans "Vehicle ID" %}</th>
                    <th>{% trans "License Plate" %}</th>
                    <th>{% trans "Expiry Date" %}</th>
                    <th>{% trans "Status" %}</th>
                    <th>{% trans "Mission Status" %}</th>
                    <th>{% trans "Select Action" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for v in vehicles_o_id %}
                <tr>
                    <td>{{ v.vehicle_id }}</td>
                    <td>{{ v.license_plate }}</td>
                    <td>{{ v.license_expiry_date }}</td>
                    <td>{{ v.status }}</td>
                    <td>{{ v.mission_status }}</td>
                    <td>
                        <a href="" class="btn btn-sm lime-accent rounded-pill mt-1">
                            <i class="bi bi-pencil-square"></i> {% trans "Edit" %}
                        </a>
                        <a href="{% url 'vehicle_details' v.pk %}" class="btn btn-sm btn-outline-secondary rounded-pill">
                            {% trans "More" %} &rarr;
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6">{% trans "No vehicles yet." %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endif %}
{% endblock %}